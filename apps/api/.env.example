# 应用环境名称
ENVIRONMENT=dev

# 数据库连接（本地 infra/docker-compose.dev.yml 中的 Postgres）
DATABASE_URL=postgresql+psycopg://z_image:z_image@localhost:5432/z_image

# Redis 连接（同时作为 Celery broker 和 result backend）
REDIS_URL=redis://localhost:6379/0

# 模型根目录（可选），默认使用 <repo_root>/models
# MODELS_DIR=/absolute/path/to/Z-Image-app/models

# ---- API 鉴权（可选） ----
# 是否启用简单 API Key 鉴权（默认 false；本地开发可保持关闭）。
# 开启后，/v1/images/generate 和 /v1/tasks/{task_id} 需要提供 X-Auth-Key。
# API_ENABLE_AUTH=true

# 管理员 Key，可访问所有任务；普通调用方使用自己的 Key 只能访问自己创建的任务。
# 该 Key 不需要出现在白名单中，始终被视为有效。
# API_ADMIN_KEY=your-admin-key-here

# （可选）普通调用方的 API Key 白名单，逗号分隔。
# 如果配置了该变量，则只有白名单中的 Key（以及 API_ADMIN_KEY）可以访问服务。
# 例如：API_ALLOWED_KEYS=user-key-1,user-key-2
# API_ALLOWED_KEYS=

# Z-Image 推理相关配置
# 使用的变体：turbo / base / edit（当前主要为 turbo）
Z_IMAGE_VARIANT=turbo

# 可选：覆盖默认远端模型 ID（不设置时使用 libs/py_core/z_image_pipeline.py 中的默认值）
# Z_IMAGE_MODEL_ID=Tongyi-MAI/Z-Image-Turbo

# 可选：生成图片相对 MODELS_DIR 的输出子目录（默认 z-image-outputs）
# Z_IMAGE_OUTPUT_SUBDIR=z-image-outputs
